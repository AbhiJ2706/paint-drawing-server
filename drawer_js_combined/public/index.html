<html>
    <p>Username</p>
    <input id="username" type="text" style="width:100%" />
    <p>Password</p>
    <input id="password" type="text" style="width:100%" />
    <p>Email: fill this in if you are creating a new account, if not, leave it blank!</p>
    <input id="email" type="text" style="width:100%" />
    <button onclick="submit()">Submit</button>
    <p id="accountSuccess" style="visibility:hidden; display:none; width:100%">Account creation success!</p>
    <p id="accountFailure" style="visibility:hidden; display:none; width:100%">Incorrect Password.</p>
    <p id="accountFailure2" style="visibility:hidden; display:none; width:100%">Email already taken.</p>
    <p id="accountFailure3" style="visibility:hidden; display:none; width:100%">Username already taken.</p>
    <p id="accountFailure4" style="visibility:hidden; display:none; width:100%">Username not found.</p>
    <p id="accountExists" style="visibility:hidden; display:none; width:100%">Welcome Back!</p>
    <button id="gallery" onclick="goToDisplay()" style="visibility:hidden; display:none; width:100%">See what others have drawn</button>
    <button id="editor" onclick="goToEditor()" style="visibility:hidden; display:none; width:100%">Draw a picture</button>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    <script>

        function submit(){
            var usr = document.getElementById("username").value;
            var pass = document.getElementById("password").value;
            var em = document.getElementById("email").value;
            $.post("http://localhost:8000/api/Login", {username: usr, password: pass, email: em}, function(data){
                if (data == "0") {
                    document.getElementById("accountExists").style.visibility = "visible";
                    document.getElementById("accountExists").style.display = "block";
                    document.getElementById("gallery").style.visibility = "visible";
                    document.getElementById("gallery").style.display = "block";
                    document.getElementById("editor").style.visibility = "visible";
                    document.getElementById("editor").style.display = "block";
                } else if (data == "1") {
                    document.getElementById("accountFailure").style.visibility = "visible";
                    document.getElementById("accountFailure").style.display = "block";
                } else if (data == "2") {
                    document.getElementById("accountFailure2").style.visibility = "visible";
                    document.getElementById("accountFailure2").style.display = "block";
                } else if (data == "3") {
                    document.getElementById("accountFailure3").style.visibility = "visible";
                    document.getElementById("accountFailure3").style.display = "block";
                } else if (data == "4"){
                    document.getElementById("accountSuccess").style.visibility = "visible";
                    document.getElementById("accountSuccess").style.display = "block";
                    document.getElementById("gallery").style.visibility = "visible";
                    document.getElementById("gallery").style.display = "block";
                    document.getElementById("editor").style.visibility = "visible";
                    document.getElementById("editor").style.display = "block";
                } else if (data == "5"){
                    document.getElementById("accountFailure4").style.visibility = "visible";
                    document.getElementById("accountFailure4").style.display = "block";
                }
            }).done(function(){
                console.log(em)
                sessionStorage.setItem('username', usr)
                sessionStorage.setItem('email', em)
            });
        }

        function goToDisplay(){
            $.post("http://localhost:8000/api/goToDisplay").done(function(){
                window.location.assign('/display')
            });
        }

        function goToEditor(){
            $.post("http://localhost:8000/api/goToEditor").done(function(){
                window.location.assign('/editor')
            });
        }

    </script>
</html>